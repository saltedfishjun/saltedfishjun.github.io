<?xml version='1.0' encoding='UTF-8'?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" version="2.0"><channel><title>咸鱼君的备忘录</title><link>https://saltedfishjun.github.io</link><description>咸鱼君的究极备忘录加博客</description><copyright>咸鱼君的备忘录</copyright><docs>http://www.rssboard.org/rss-specification</docs><generator>python-feedgen</generator><image><url>https://image.saltedfishjun.cn/i/2024/07/12/n7hysr.gif</url><title>avatar</title><link>https://saltedfishjun.github.io</link></image><lastBuildDate>Wed, 31 Jul 2024 18:37:49 +0000</lastBuildDate><managingEditor>咸鱼君的备忘录</managingEditor><ttl>60</ttl><webMaster>咸鱼君的备忘录</webMaster><item><title>猫棒替换光猫简记</title><link>https://saltedfishjun.github.io/post/mao-bang-ti-huan-guang-mao-jian-ji.html</link><description># 猫棒替换光猫简记 #&#13;
## 为什么要使用猫棒 ##&#13;
家里光猫的 4 个 lan 口都是千兆的，但是运营商一般会给予一定的余量，以保障能尽量的提升体验，但是很显然配的光猫只有千兆口，就触及不到这个带余量的实际满带宽，这时候使用接口速度为 2.5g 的猫棒就能达到跑满带宽的实际速度，超越千兆&#13;
&#13;
## 使用猫棒的前提条件 ##&#13;
很显然这种提升不是简简单单的换设备即可实现的，有一定限制&#13;
&#13;
带宽接入必须是 GPON 的，可以查看光猫背面标签（xgpon 和 epon 虽然兼容但是不能达到 gpon 的效果这里不提）&#13;
有一定的网络基础知识，例如 ip，wan 口，lan 口等，如果连 ip 都不知道是什么不建议自己动手操作&#13;
光猫的 超级密码​，这个可以询问给你装宽带的工程师，一般会给&#13;
家里的其他设备最低须有一个 2.5g 的 wan 口，最好购买一个兼容 2.5g 光口的交换机&#13;
需要有一个能够连接猫棒的设备，可以是 4 中提到的兼容 2.5g 光口的交换机，也可以是光纤收发器&#13;
知道宽带的账号密码，不知道可以打电话问运营商客服，默认应该是手机号加后 6 位~ 至少我这移动是~&#13;
网线最低要求为超 5 类网线，六类 \ 超六类更好&#13;
获取基础数据&#13;
要使用猫棒需要光猫的几个数据，具体运营商和地区不同数据需求也不同建议问猫棒卖家&#13;
&#13;
1. 进入光猫后台输入超级密码(可以直接使用网线连接电脑和光猫然后在路由器地址栏输入 192.168.1.1)&#13;
![光猫后台](https://image.saltedfishjun.cn/i/2024/07/26/h504sb.webp)&#13;
2. vlan id&#13;
![vlan id](https://image.saltedfishjun.cn/i/2024/07/26/h6566j.webp)&#13;
3. 认证密码&#13;
![Ploa Password](https://image.saltedfishjun.cn/i/2024/07/26/h6uc93.webp)&#13;
4. IPTV vlan&#13;
![iptv vlan](https://image.saltedfishjun.cn/i/2024/07/26/h7eg0g.webp)&#13;
5. GPON SN&#13;
![](https://image.saltedfishjun.cn/i/2024/07/26/h7ur8c.webp)&#13;
以上信息分别为上网 `vlan`，`Ploam Password`，`iptv vlan` 和 `GPON SN`, 其中 `iptv vlan` 不是必须&#13;
&gt; [!NOTE]&#13;
&gt; 注意！设备和运营商的不同导致需要获取数据和数据获取方式都不一定相同，我提供截图仅供参考&#13;
## 配置猫棒 ##&#13;
1. 把猫棒插入交换机 \ 光纤收发器光口，用网线连接电脑和交换机 \ 光纤收发器&#13;
2. 打开浏览器输入 192.168.1.10(一般是这个，不是可以问卖家)&#13;
![猫棒后台界面](https://image.saltedfishjun.cn/i/2024/07/26/ha61o6.webp)&#13;
直接登录即可&#13;
3. 填入前面从光猫里面获取的数据&#13;
![数据填写](https://image.saltedfishjun.cn/i/2024/07/26/hahdxq.webp)&#13;
![数据填写](https://image.saltedfishjun.cn/i/2024/07/26/hayijk.webp)&#13;
4. 填入数据后点保存应用然后点状态 - 总览查看图一的 gpon 状态中的注册状态，如果是 5 则表示修改完成&#13;
5. 确定完成后把路由器和交换机 \ 光纤收发器连接，电脑连接路由器&#13;
6. 路由改拨号，愉快上网&#13;
电脑进入路由器后台修改上网方式为拨号上网或 pppoe&#13;
![ikuai](https://image.saltedfishjun.cn/i/2024/07/26/hblqmr.webp)&#13;
&gt; [!TIP]&#13;
&gt; 到这基本就完成了，试试能不能正常上网，如果是交换机还可以修改连接方式!&#13;
&gt; ![拓扑](https://image.saltedfishjun.cn/i/2024/07/26/hcr9ho.webp)&#13;
到此结束，测速试试吧。</description><guid isPermaLink="true">https://saltedfishjun.github.io/post/mao-bang-ti-huan-guang-mao-jian-ji.html</guid><pubDate>Fri, 26 Jul 2024 02:50:53 +0000</pubDate></item><item><title>CloudFlare Saas 回源到 tunnel 的办法</title><link>https://saltedfishjun.github.io/post/CloudFlare%20Saas%20-hui-yuan-dao-%20tunnel%20-de-ban-fa.html</link><description># 1.正常接入SAAS #&#13;
在需要设定的域名下点击SSL/TSL选项，点击自定义主机名，添加一个回退源(这个回退源需要是你等下设定隧道的域名)&#13;
![QQ_1721932281112](https://github.com/user-attachments/assets/7620eb89-758e-418d-acc9-6b45cc6b9928)&#13;
# 2.tunnel绑定域名 #&#13;
1. 创建隧道，教程[👉](url=https://post.smzdm.com/p/axoekqw2/)&#13;
&gt; [!注意]&#13;
&gt; 创建隧道最后一步添加域名时应该为SAAS回退源设定的域名，在点击提交前按F12进行抓包&#13;
2. 点击提交后，在网络请求里面找到以`configurations`结尾的一个`PUT`请求，在请求上右键点击编辑并重发，把编辑页面拉到最下面会看到以下内容`--data-raw '{'config':{'ingress':[{'hostname':'你隧道的域名','service':'http://192.168.1.12','originRequest':{}},{'service':'http_status:404'}]}}'`&#13;
3. 我们需要复制这部分内容`{'hostname':'你隧道的域名','service':'http://192.168.1.12','originRequest':{}}`并粘贴到原本这部分内容后面并修改“你隧道的域名”修改完成后大致如下`--data-raw '{'config':{'ingress':[{'hostname':'隧道域名','service':'http://192.168.1.12','originRequest':{true}},{'hostname':'外部cnamme到saas回退源的域名','service':'http://192.168.1.12','originRequest':{true}},{'service':'http_status:404'}]}}'`&#13;
&gt; [!注意]&#13;
&gt; cname到回退源的域名可以是泛域名&#13;
4. 编辑完成后点击发送，如果正确的话你现在应该能看到有两个域名，一个为你隧道设定域名，一个为刚刚修改时添加的域名，到这一步就基本完成了&#13;
# 3.附加教程 #&#13;
1. SAAS回源加优选ip[👉](https://www.bilibili.com/video/BV1SM4m1176E/?spm_id_from=333.999.0.0&amp;vd_source=bbe346abc60e23243de9aec110386ef4)&#13;
2. CloudFlare Saas 回源到 tunnel 的办法[👉](https://www.nodeseek.com/post-98866-1)&#13;
3. 本地添加网站利用如1Panel/BT之类的建站面版进行反代，把相应服务反代到你的cname到回源域名的那个域名即你想要访问的域名即可。</description><guid isPermaLink="true">https://saltedfishjun.github.io/post/CloudFlare%20Saas%20-hui-yuan-dao-%20tunnel%20-de-ban-fa.html</guid><pubDate>Thu, 25 Jul 2024 18:43:38 +0000</pubDate></item><item><title>常用小计</title><link>https://saltedfishjun.github.io/post/chang-yong-xiao-ji.html</link><description>视频嵌入&#13;
```&#13;
`Gmeek-html&lt;iframe src='//player.bilibili.com/player.html?isOutside=true&amp;aid=1706123415&amp;bvid=BV1cT421k7nr&amp;cid=1615203372&amp;p=1' scrolling='no' border='0' frameborder='no' framespacing='0' allowfullscreen='true' width='100%' height='460px'&gt;&lt;/iframe&gt;`&#13;
```&#13;
`Gmeek-html&lt;iframe src='//player.bilibili.com/player.html?isOutside=true&amp;aid=1706123415&amp;bvid=BV1cT421k7nr&amp;cid=1615203372&amp;p=1' scrolling='no' border='0' frameborder='no' framespacing='0' allowfullscreen='true' width='100%' height='460px'&gt;&lt;/iframe&gt;`&#13;
强调语法&#13;
```&#13;
&gt; [!NOTE]&#13;
&gt; Useful information that users should know, even when skimming content.&#13;
&#13;
&gt; [!TIP]&#13;
&gt; Helpful advice for doing things better or more easily.&#13;
&#13;
&gt; [!IMPORTANT]&#13;
&gt; Key information users need to know to achieve their goal.&#13;
&#13;
&gt; [!WARNING]&#13;
&gt; Urgent info that needs immediate user attention to avoid problems.&#13;
&#13;
&gt; [!CAUTION]&#13;
&gt; Advises about risks or negative outcomes of certain actions.&#13;
```&#13;
&gt; [!NOTE]&#13;
&gt; Useful information that users should know, even when skimming content.&#13;
&#13;
&gt; [!TIP]&#13;
&gt; Helpful advice for doing things better or more easily.&#13;
&#13;
&gt; [!IMPORTANT]&#13;
&gt; Key information users need to know to achieve their goal.&#13;
&#13;
&gt; [!WARNING]&#13;
&gt; Urgent info that needs immediate user attention to avoid problems.&#13;
&#13;
&gt; [!CAUTION]&#13;
&gt; Advises about risks or negative outcomes of certain actions.。</description><guid isPermaLink="true">https://saltedfishjun.github.io/post/chang-yong-xiao-ji.html</guid><pubDate>Sat, 20 Jul 2024 01:51:09 +0000</pubDate></item><item><title>MC各种服务端</title><link>https://saltedfishjun.github.io/post/MC-ge-zhong-fu-wu-duan.html</link><description># MC各种服务端&#13;
&#13;
这里是说明文档，这里会简单介绍各个核心以及插件。</description><guid isPermaLink="true">https://saltedfishjun.github.io/post/MC-ge-zhong-fu-wu-duan.html</guid><pubDate>Fri, 19 Jul 2024 15:55:52 +0000</pubDate></item><item><title>Deepin系统配置Iptables防火墙</title><link>https://saltedfishjun.github.io/post/Deepin-xi-tong-pei-zhi-Iptables-fang-huo-qiang.html</link><description># Deepin系统配置Iptables防火墙&#13;
&#13;
#### 最近不知道为啥重启后好多服务不能使用，然后发现docker的原因安装了iptables防火墙，经过百度解决后写下这篇文章以记录&#13;
&#13;
​`whereis iptables`​  #查看系统是否安装防火墙可以看到:&#13;
&#13;
```1c&#13;
iptables: /sbin/iptables /usr/share/iptables /usr/share/man/man8/iptables.8.gz #表示已经安装iptables&#13;
apt-get install iptables #如果默认没有安装，请运行此命令安装防火墙&#13;
```&#13;
&#13;
​`iptables -L`​ #查看防火墙配置信息，显示如下:&#13;
&#13;
```1c&#13;
root@deepin:/home/saltedfishjun# iptables-save&#13;
# Generated by iptables-save v1.8.7 on Tue May 28 15:50:39 2024&#13;
*mangle&#13;
:PREROUTING ACCEPT [0:0]&#13;
:INPUT ACCEPT [0:0]&#13;
:FORWARD ACCEPT [0:0]&#13;
:OUTPUT ACCEPT [0:0]&#13;
:POSTROUTING ACCEPT [0:0]&#13;
:App - [0:0]&#13;
:Main - [0:0]&#13;
-A OUTPUT -j Main&#13;
-A Main -o lo -j RETURN&#13;
COMMIT&#13;
# Completed on Tue May 28 15:50:39 2024&#13;
# Generated by iptables-save v1.8.7 on Tue May 28 15:50:39 2024&#13;
*filter&#13;
:INPUT ACCEPT [0:0]&#13;
:FORWARD DROP [0:0]&#13;
:OUTPUT ACCEPT [0:0]&#13;
:DOCKER - [0:0]&#13;
:DOCKER-ISOLATION-STAGE-1 - [0:0]&#13;
:DOCKER-ISOLATION-STAGE-2 - [0:0]&#13;
:DOCKER-USER - [0:0]&#13;
-A INPUT -j NFQUEUE --queue-num 0&#13;
-A INPUT -j ACCEPT&#13;
-A INPUT -j ACCEPT&#13;
-A FORWARD -j DOCKER-USER&#13;
-A FORWARD -j DOCKER-ISOLATION-STAGE-1&#13;
-A FORWARD -o docker0 -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT&#13;
-A FORWARD -o docker0 -j DOCKER&#13;
-A FORWARD -i docker0 ! -o docker0 -j ACCEPT&#13;
-A FORWARD -i docker0 -o docker0 -j ACCEPT&#13;
-A FORWARD -o br-521679a0d583 -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT&#13;
-A FORWARD -o br-521679a0d583 -j DOCKER&#13;
-A FORWARD -i br-521679a0d583 ! -o br-521679a0d583 -j ACCEPT&#13;
-A FORWARD -i br-521679a0d583 -o br-521679a0d583 -j ACCEPT&#13;
-A DOCKER -d 172.18.0.2/32 ! -i br-521679a0d583 -o br-521679a0d583 -p tcp -m tcp --dport 80 -j ACCEPT&#13;
-A DOCKER -d 172.17.0.2/32 ! -i docker0 -o docker0 -p tcp -m tcp --dport 6806 -j ACCEPT&#13;
-A DOCKER -d 172.17.0.3/32 ! -i docker0 -o docker0 -p tcp -m tcp --dport 3000 -j ACCEPT&#13;
-A DOCKER -d 172.18.0.3/32 ! -i br-521679a0d583 -o br-521679a0d583 -p tcp -m tcp --dport 80 -j ACCEPT&#13;
-A DOCKER -d 172.17.0.4/32 ! -i docker0 -o docker0 -p tcp -m tcp --dport 90 -j ACCEPT&#13;
-A DOCKER -d 172.17.0.4/32 ! -i docker0 -o docker0 -p tcp -m tcp --dport 80 -j ACCEPT&#13;
-A DOCKER-ISOLATION-STAGE-1 -i docker0 ! -o docker0 -j DOCKER-ISOLATION-STAGE-2&#13;
-A DOCKER-ISOLATION-STAGE-1 -i br-521679a0d583 ! -o br-521679a0d583 -j DOCKER-ISOLATION-STAGE-2&#13;
-A DOCKER-ISOLATION-STAGE-1 -j RETURN&#13;
-A DOCKER-ISOLATION-STAGE-2 -o docker0 -j DROP&#13;
-A DOCKER-ISOLATION-STAGE-2 -o br-521679a0d583 -j DROP&#13;
-A DOCKER-ISOLATION-STAGE-2 -j RETURN&#13;
-A DOCKER-USER -j RETURN&#13;
COMMIT&#13;
# Completed on Tue May 28 15:50:39 2024&#13;
# Generated by iptables-save v1.8.7 on Tue May 28 15:50:39 2024&#13;
*nat&#13;
:PREROUTING ACCEPT [0:0]&#13;
:INPUT ACCEPT [0:0]&#13;
:OUTPUT ACCEPT [0:0]&#13;
:POSTROUTING ACCEPT [0:0]&#13;
:DOCKER - [0:0]&#13;
-A PREROUTING -m addrtype --dst-type LOCAL -j DOCKER&#13;
-A OUTPUT ! -d 127.0.0.0/8 -m addrtype --dst-type LOCAL -j DOCKER&#13;
-A POSTROUTING -s 172.17.0.0/16 ! -o docker0 -j MASQUERADE&#13;
-A POSTROUTING -s 172.18.0.0/16 ! -o br-521679a0d583 -j MASQUERADE&#13;
-A POSTROUTING -s 172.18.0.2/32 -d 172.18.0.2/32 -p tcp -m tcp --dport 80 -j MASQUERADE&#13;
-A POSTROUTING -s 172.17.0.2/32 -d 172.17.0.2/32 -p tcp -m tcp --dport 6806 -j MASQUERADE&#13;
-A POSTROUTING -s 172.17.0.3/32 -d 172.17.0.3/32 -p tcp -m tcp --dport 3000 -j MASQUERADE&#13;
-A POSTROUTING -s 172.18.0.3/32 -d 172.18.0.3/32 -p tcp -m tcp --dport 80 -j MASQUERADE&#13;
-A POSTROUTING -s 172.17.0.4/32 -d 172.17.0.4/32 -p tcp -m tcp --dport 90 -j MASQUERADE&#13;
-A POSTROUTING -s 172.17.0.4/32 -d 172.17.0.4/32 -p tcp -m tcp --dport 80 -j MASQUERADE&#13;
-A DOCKER -i docker0 -j RETURN&#13;
-A DOCKER -i br-521679a0d583 -j RETURN&#13;
-A DOCKER ! -i br-521679a0d583 -p tcp -m tcp --dport 8880 -j DNAT --to-destination 172.18.0.2:80&#13;
-A DOCKER ! -i docker0 -p tcp -m tcp --dport 6806 -j DNAT --to-destination 172.17.0.2:6806&#13;
-A DOCKER ! -i docker0 -p tcp -m tcp --dport 3004 -j DNAT --to-destination 172.17.0.3:3000&#13;
-A DOCKER ! -i br-521679a0d583 -p tcp -m tcp --dport 8089 -j DNAT --to-destination 172.18.0.3:80&#13;
-A DOCKER ! -i docker0 -p tcp -m tcp --dport 90 -j DNAT --to-destination 172.17.0.4:90&#13;
-A DOCKER ! -i docker0 -p tcp -m tcp --dport 88 -j DNAT --to-destination 172.17.0.4:80&#13;
COMMIT&#13;
# Completed on Tue May 28 15:50:39 2024&#13;
root@deepin:/home/saltedfishjun# iptables -A INPUT -j ACCEPTiptables -A INPUT -p tcp --dport 8888 -j ACCEPT&#13;
iptables v1.8.7 (nf_tables): Cannot use -A with -A&#13;
```&#13;
&#13;
可以发现开放的端口仅为常用端口，需要端口并未开放，我们添加自定义规则&#13;
&#13;
​`vim /etc/iptables/rules.v4`​添加以下内容(备注:80是指web服务器端口,3306是指MySQL数据库链接端口,22是指SSH远程管理端口.)&#13;
&#13;
```1c&#13;
*filter&#13;
:INPUT DROP [0:0]&#13;
:FORWARD ACCEPT [0:0]&#13;
:OUTPUT ACCEPT [0:0]&#13;
:syn-flood - [0:0]&#13;
-A INPUT -i lo -j ACCEPT&#13;
-A INPUT -m state --state RELATED,ESTABLISHED -j ACCEPT&#13;
-A INPUT -p tcp -m state --state NEW -m tcp --dport 0:65535 -j ACCEPT&#13;
-A INPUT -p udp -m state --state NEW -m udp --dport 0:65535 -j ACCEPT&#13;
-A INPUT -p icmp -m limit --limit 100/sec --limit-burst 100 -j ACCEPT&#13;
-A INPUT -p icmp -m limit --limit 1/s --limit-burst 10 -j ACCEPT&#13;
-A INPUT -p tcp -m tcp --tcp-flags FIN,SYN,RST,ACK SYN -j syn-flood&#13;
-A INPUT -j REJECT --reject-with icmp-host-prohibited&#13;
-A syn-flood -p tcp -m limit --limit 3/sec --limit-burst 6 -j RETURN&#13;
-A syn-flood -j REJECT --reject-with icmp-port-unreachable&#13;
COMMIT&#13;
```&#13;
&#13;
​`iptables-restore &lt; /etc/iptables/rules.v4`​ #使防火墙规则生效&#13;
&#13;
`iptables -L -n`​查看规则是否生效.&#13;
&#13;
‍。</description><guid isPermaLink="true">https://saltedfishjun.github.io/post/Deepin-xi-tong-pei-zhi-Iptables-fang-huo-qiang.html</guid><pubDate>Fri, 19 Jul 2024 15:54:56 +0000</pubDate></item><item><title>清除桌面图标缓存脚本</title><link>https://saltedfishjun.github.io/post/qing-chu-zhuo-mian-tu-biao-huan-cun-jiao-ben.html</link><description># 清除桌面图标缓存脚本&#13;
&#13;
当桌面图标点击出现白色虚线框时可使用快速清除，新建文本文档粘贴进去后保存为`.bat`​文件双击运行即可&#13;
&#13;
```1c&#13;
@echo off&#13;
taskkill /f /im explorer.exe&#13;
CD /d %userprofile%\AppData\Local&#13;
DEL IconCache.db /a&#13;
start explorer.exe&#13;
cho&#13;
```&#13;
&#13;
‍。</description><guid isPermaLink="true">https://saltedfishjun.github.io/post/qing-chu-zhuo-mian-tu-biao-huan-cun-jiao-ben.html</guid><pubDate>Fri, 19 Jul 2024 15:54:12 +0000</pubDate></item><item><title>Deepin安装casaos</title><link>https://saltedfishjun.github.io/post/Deepin-an-zhuang-casaos.html</link><description># Deepin系统安装casaos&#13;
&#13;
## 一般在深度deepin系统下是无法使用CasaOS的会报错&#13;
&#13;
​![image](https://raw.githubusercontent.com/saltedfishjun/photo/main/picgo/20240608124003.png)​&#13;
&#13;
# 打补丁（安装2个依赖包）&#13;
&#13;
### 安装深度deepin缺少的依赖包udevil&#13;
&#13;
```1c&#13;
wget https://mirrors-i.tuna.tsinghua.edu.cn/debian/pool/main/u/udevil/udevil_0.4.4-3_amd64.deb&#13;
sudo dpkg -i udevil_0.4.4-3_amd64.deb&#13;
```&#13;
&#13;
### 安装深度deepin缺少的依赖包mergerfs&#13;
&#13;
```1c&#13;
wget https://mirrors.sohu.com/deepin/pool/main/m/mergerfs/mergerfs_2.24.2-4_amd64.deb&#13;
sudo dpkg -i mergerfs_2.24.2-4_amd64.deb&#13;
```&#13;
&#13;
由于CasaOS暂时没有适配深度deepin v23系统,但适配了标准的Debian 12。</description><guid isPermaLink="true">https://saltedfishjun.github.io/post/Deepin-an-zhuang-casaos.html</guid><pubDate>Fri, 19 Jul 2024 15:53:19 +0000</pubDate></item></channel></rss>